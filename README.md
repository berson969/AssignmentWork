# Курсовой проект «Резервное копирование» первого блока «Основы языка программирования Python».

Возможна такая ситуация, что мы хотим показать друзьям фотографии из социальных сетей, но соц. сети могут быть недоступны по каким-либо причинам. Давайте защитимся от такого.
Нужно написать программу для резервного копирования фотографий с профиля(аватарок) пользователя vk в облачное хранилище Яндекс.Диск.
Для названий фотографий использовать количество лайков, если количество лайков одинаково, то добавить дату загрузки.
Информацию по сохраненным фотографиям сохранить в json-файл.

## Задание:

Нужно написать программу, которая будет:

1. Получать фотографии с профиля. Для этого нужно использовать метод [photos.get](https://dev.vk.com/method/photos.get).
2. Cохранять фотографии максимального размера(ширина/высота в пикселях) на Я.Диске.
3. Для имени фотографий использовать количество лайков.
4. Сохранять информацию по фотографиям в json-файл с результатами.

## Входные данные:

## Пользователь вводит:

* id пользователя vk;
* токен с Полигона Яндекс.Диска. Важно: Токен публиковать в github не нужно!

## Выходные данные:

* json-файл с информацией по файлу:
   ``` python
    [{
    "file_name": "34.jpg",
    "size": "z"
    }]
    ```
* Измененный Я.диск, куда добавились фотографии. ​ ​


## Обязательные требования к программе:

1. Использовать REST API Я.Диска и ключ, полученный с полигона.
2. Для загруженных фотографий нужно создать свою папку.
3. Сохранять указанное количество фотографий(по умолчанию 5) наибольшего размера (ширина/высота в пикселях) на Я.Диске
4. Сделать прогресс-бар или логирование для отслеживания процесса программы.
5. Код программы должен удовлетворять PEP8.
6. У программы должен быть свой отдельный репозиторий.
7. Все зависимости должны быть указаны в файле `requiremеnts.txt`. ​


## Необязательные требования к программе:

* Сохранять фотографии и из других альбомов.
* Сохранять фотографии из других социальных сетей. `Одноклассники` и `Инстаграмм`
* Сохранять фотографии на `Google.Drive`.


### Ход работы
* **Версия `1.0`**
+ Рабочая версия
+ Нет контроля количества закачек
+ Загружает на яндекс(нет проверки на одинаковость(искать хеш файла? возможно есть поиск дубликатов в API YA))
+ Нет логирования
+ ~~Работает только с яндекс диском~~
+ ~~Нет запросов для профилей VK~~
    - ~~Решение:  организовать все вводные данные в файле `input.txt` и потом считать все одной загрузкой~~
+ Нет других соц сетей
+ Ошибка при выборе приватного профиля VK
+ Сделать файл requirement.txt
    - Решение:  с помощью команды терминала `pip3 freeze > requirement.txt` (задать вопрос на вебинаре)

* **Версия `2.0`**
+ Загрузка на Google Drive файл `GoogleDriveUploader`
+ Проблема: если фото имеею одинаковое наименование, то оставляется старый
     - ~~решение удалять  одинаковые файлы, а потом записывать новые~~
     - проблема:  файл не удаляется (возможно не хватает прав на удаление?)
+ Организовать дозакачку файлов на Google Drive
+ Нужно правильно организовать файловое окружение приложения(задать вопрос на вебинаре)
+ Для мест логирования вставлены комментарии
+ ~~В .gitignore добавить user_token.json, credentials.json, log_1.log, test.jpg ~~
+ В main.py не выполняется запрос на количество фото для скачивания. Count = 5 
+ ~~Переместить файлы для загрузки через server в отдельную папку `/tmp`и после закачки удалять файл из нее~~
+ ~~нужно пояснение как собрать строку для параметра метода :~~

     `       
    results = self.service.files().list(q=f"trashed=False and '{folder_id}' in parents", pageSize=2, fields="nextPageToken, files(id, name, trashed, parents, permissions, mimeType)",pageToken=page_token).execute()
    `


* **Версия `3.0`**
+ Сложились одновременно Яндекс  и  Гугл
+ ~~Нет проверки на возможность работы в каждом приложении~~
+ Ещё не проверял, на правильность исполнения кода
+ ~~Внести в файл `input.txt`  данные какой альбом использовать для резервирования~~
+ ~~Поменять индикатор загрузки для googledrive ~~
+ Взять работу из других приложений `instagram`  и `одноклассники`
+ Список вопросов к разбору курсовой
    - как правильно организовать файловое окружение приложения (папки, виртуальное окружение)
    - достаточно описать `requirement.txt` с помощью команды терминала `pip3 freeze > requirement.txt` 
    - если функция импортируется из другого файла, как заставить ее загрузиться по-новой после пересохранения файла 
    - что отражать в логировании( весь ход процесса наверно не нужно, только сообщения об ошибке, ну или хотя бы о том что файл не загрузился?)
+ ~~Переделать работа с каждым API  в отдельную функцию. Обязательные в  `main` необязательные в отдельном файле~~
+ Написать инструкцию в файле  `input.py `
+ ~~Проблема для `YANDEX` при закачке делают дубликаты файлов~~
+ Нет проверок на выполнимость для каждой функции
+ ~~ОШИБКА: при присвоении нового имени происходит задваивание названий имен~~

* **Версия `3.1`**
+ ~~Не работает~~
+ Читать про виртуальное окружение
+ Задать вопрос про запуск из разных директорий(как настроить VSC и PyCharm чтобы работал из конкретной рабочей директории)
+ команда `freeze` найти тонкие настройки
+ Фотографии в Яндекс дублируются при повторной закачке 
+ Удалять папку если она существует в YAdisk
+ Нужно ли публиковать папку с вирт окружением в git? 
    - наверно нет там только мои настройки



